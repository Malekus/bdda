CREATE TABLE CACLI (
  DIMENSION_TPS_idDIMENSION_TPS VARCHAR NOT NULL,
  MONTANTCA INTEGER UNSIGNED NULL,
  PRIMARY KEY(DIMENSION_TPS_idDIMENSION_TPS),
  INDEX CACLI_FKIndex1(DIMENSION_TPS_idDIMENSION_TPS)
);

CREATE TABLE DIMENSION_ARTICLES (
  idDIMENSION_ARTICLES VARCHAR NOT NULL AUTO_INCREMENT,
  NOM_ARTICLES VARCHAR NULL,
  PRIXINITIAL VARCHAR NULL,
  QUANTITE VARCHAR NULL,
  PRIXFINAL VARCHAR NULL,
  PRIMARY KEY(idDIMENSION_ARTICLES)
);

CREATE TABLE DIMENSION_CLIENTS (
  idDIMENSION_CLIENTS VARCHAR NOT NULL AUTO_INCREMENT,
  GENRE VARCHAR NULL,
  NOM VARCHAR NULL,
  PRENOM VARCHAR NULL,
  CATCLI VARCHAR NULL,
  ADRESSE VARCHAR NULL,
  CP VARCHAR NULL,
  VILLE VARCHAR NULL,
  PAYS VARCHAR NULL,
  MAIL VARCHAR NULL,
  NUMERO VARCHAR NULL,
  PRIMARY KEY(idDIMENSION_CLIENTS)
);

CREATE TABLE DIMENSION_COMMANDES (
  idDIMENSION_COMMANDES VARCHAR NOT NULL AUTO_INCREMENT,
  DIMENSION_CLIENTS_idDIMENSION_CLIENTS VARCHAR NOT NULL,
  DATE VARCHAR NULL,
  PRIMARY KEY(idDIMENSION_COMMANDES, DIMENSION_CLIENTS_idDIMENSION_CLIENTS),
  INDEX DIMENSION_COMMANDES_FKIndex1(DIMENSION_CLIENTS_idDIMENSION_CLIENTS)
);

CREATE TABLE DIMENSION_DETAILSCOM (
  idDIMENSION_DETAILSCOM VARCHAR NOT NULL AUTO_INCREMENT,
  DIMENSION_ARTICLES_idDIMENSION_ARTICLES VARCHAR NOT NULL,
  QUANTITE VARCHAR NULL,
  PRIX VARCHAR NULL,
  REDUCTION VARCHAR NULL,
  PRIMARY KEY(idDIMENSION_DETAILSCOM, DIMENSION_ARTICLES_idDIMENSION_ARTICLES),
  INDEX DIMENSION_DETAILSCOM_FKIndex1(DIMENSION_ARTICLES_idDIMENSION_ARTICLES)
);

insert into DIMENSION_DETAILSCOM values ('1','1','1','10€','10%');
insert into DIMENSION_DETAILSCOM values ('2','2','1','26€','0%');
CREATE TABLE DIMENSION_MAGASINS (
  idDIMENSION_MAGASINS VARCHAR NOT NULL AUTO_INCREMENT,
  VILLE VARCHAR NULL,
  PRIMARY KEY(idDIMENSION_MAGASINS)
);

CREATE TABLE DIMENSION_TPS (
  idDIMENSION_TPS VARCHAR NOT NULL AUTO_INCREMENT,
  ANNEE VARCHAR NULL,
  MOIS VARCHAR NULL,
  JOUR VARCHAR NULL,
  SEMAINE VARCHAR NULL,
  PRIMARY KEY(idDIMENSION_TPS)
);

CREATE TABLE FAIT_ANALYSE (
  idFAIT_ANALYSE VARCHAR NOT NULL AUTO_INCREMENT,
  CACLI_DIMENSION_TPS_idDIMENSION_TPS VARCHAR NOT NULL,
  DIMENSION_DETAILSCOM_idDIMENSION_DETAILSCOM VARCHAR NOT NULL,
  DIMENSION_DETAILSCOM_DIMENSION_ARTICLES_idDIMENSION_ARTICLES VARCHAR NOT NULL,
  DIMENSION_MAGASINS_idDIMENSION_MAGASINS VARCHAR NOT NULL,
  DIMENSION_COMMANDES_idDIMENSION_COMMANDES VARCHAR NOT NULL,
  DIMENSION_COMMANDES_DIMENSION_CLIENTS_idDIMENSION_CLIENTS VARCHAR NOT NULL,
  PRIMARY KEY(idFAIT_ANALYSE, CACLI_DIMENSION_TPS_idDIMENSION_TPS, DIMENSION_DETAILSCOM_idDIMENSION_DETAILSCOM, DIMENSION_DETAILSCOM_DIMENSION_ARTICLES_idDIMENSION_ARTICLES, DIMENSION_MAGASINS_idDIMENSION_MAGASINS, DIMENSION_COMMANDES_idDIMENSION_COMMANDES, DIMENSION_COMMANDES_DIMENSION_CLIENTS_idDIMENSION_CLIENTS),
  INDEX FAIT_ANALYSE_FKIndex1(CACLI_DIMENSION_TPS_idDIMENSION_TPS),
  INDEX FAIT_ANALYSE_FKIndex2(DIMENSION_DETAILSCOM_idDIMENSION_DETAILSCOM, DIMENSION_DETAILSCOM_DIMENSION_ARTICLES_idDIMENSION_ARTICLES),
  INDEX FAIT_ANALYSE_FKIndex3(DIMENSION_MAGASINS_idDIMENSION_MAGASINS),
  INDEX FAIT_ANALYSE_FKIndex4(DIMENSION_COMMANDES_idDIMENSION_COMMANDES, DIMENSION_COMMANDES_DIMENSION_CLIENTS_idDIMENSION_CLIENTS)
);

insert into CACLI values ('3','35');
insert into DIMENSION_ARTICLES values ('1','chaise','10€','1','9€');
insert into DIMENSION_ARTICLES values ('2','table','26€','1','26€');
insert into DIMENSION_CLIENTS values ('1','M','Rimbaud','Arthur','1','2, rue meissonnier','95120','Ermont','FRANCE','farine@gmail.com','+330102030405');
insert into DIMENSION_COMMANDES values ('1','1','01/01/2010');
insert into DIMENSION_COMMANDES values ('2','1','01/01/2010');
insert into DIMENSION_MAGASINS values('1','Ermont');
insert into DIMENSION_TPS values('1','2010','01','01','01');
insert into DIMENSION_TPS values('2','2010','01','02','01');
insert into DIMENSION_TPS values('3','2010','01','','');
insert into FAIT_ANALYSE values ('1','1','1','1','1','1','1');
insert into FAIT_ANALYSE values ('2','2','2','2','1','2','1');